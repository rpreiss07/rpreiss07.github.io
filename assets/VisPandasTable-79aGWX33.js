import{g as N,_ as U}from"./VisPathSelect-l19dPviG.js";import{G as D,H as R,r as p,q as B,a as s,o as M,c as T,e as t,w as i,b as c}from"./index-Pw1QY3RT.js";const k={class:"card"},E=c("label",{for:"iterselect"},"Select iterable",-1),I={class:"flex flex-wrap align-items-center justify-content-between gap-2"},P=c("span",{class:"text-xl text-900 font-bold"},[c("h4",null,"Columns")],-1),j={class:"pt-4 flex align-items-center"},q={__name:"VisPandasTable",props:D({paths:Object},{columns:{},columnsModifiers:{}}),emits:["update:columns"],setup(r){const _=r,a=R(r,"columns"),n=p(null),h=p(null),v=p([]),b=p([]),f=o=>{let{newData:l,index:u}=o;console.log(a,u,l),a.value[u]=l};B(h,async(o,l)=>{console.log("on change selectedIterable"),console.log(_.paths),console.log(o),v.value=N(_.paths,o),console.log(v.value)});const y=()=>{a.value.push({id:"new",name:"New",dataPath:"New"})},V=()=>{a.value=a.value.filter(o=>!n.value.includes(o)),n.value=null};return(o,l)=>{const u=s("FloatLabel"),g=s("Button"),m=s("Column"),x=s("InputText"),C=s("Dropdown"),S=s("DataTable");return M(),T("div",k,[t(u,null,{default:i(()=>[t(U,{id:"iterselect",paths:r.paths,modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=e=>h.value=e)},null,8,["paths","modelValue"]),E]),_:1}),t(S,{editingRows:b.value,"onUpdate:editingRows":l[1]||(l[1]=e=>b.value=e),selection:n.value,"onUpdate:selection":l[2]||(l[2]=e=>n.value=e),value:a.value,editMode:"row",dataKey:"id",onRowEditSave:f,pt:{table:{style:"min-width: 50rem"},column:{bodycell:({state:e})=>({style:e.d_editing&&"padding-top: 0.6rem; padding-bottom: 0.6rem"})}}},{header:i(()=>[c("div",I,[P,c("div",j,[t(g,{label:"New",icon:"pi pi-plus",severity:"success",class:"mr-2",onClick:y}),t(g,{label:"Delete",icon:"pi pi-trash",severity:"danger",onClick:V,disabled:!n.value||!n.value.length},null,8,["disabled"])])])]),default:i(()=>[t(m,{selectionMode:"multiple",style:{width:"3%"}}),t(m,{field:"name",header:"Name",style:{width:"20%"}},{editor:i(({data:e,field:d})=>[t(x,{modelValue:e[d],"onUpdate:modelValue":w=>e[d]=w},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(m,{field:"dataPath",header:"Source path",style:{width:"20%"}},{editor:i(({data:e,field:d})=>[t(C,{modelValue:e[d],"onUpdate:modelValue":w=>e[d]=w,options:v.value,placeholder:"Select Path",class:"w-full md:w-14rem"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),t(m,{rowEditor:!0,style:{width:"10%","min-width":"8rem"},bodyStyle:"text-align:center"})]),_:1},8,["editingRows","selection","value","pt"])])}}};export{q as _};
