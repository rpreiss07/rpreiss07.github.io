import{r as g,V as S,a as y,o as a,c as i,b as s,g as h,i as r,e,t as d,w as o,T as k,F as w,a0 as z,h as l,M as c,a2 as p,_ as C,a1 as j}from"./index-DXGc-1_L.js";const A={class:"surface-0 flex justify-content-center"},B={id:"home",class:"landing-wrapper overflow-hidden"},Y={class:"py-4 px-4 mx-0 md:mx-6 lg:mx-8 lg:px-8 flex align-items-center justify-content-between relative lg:static mb-3"},M=s("span",{class:"logofont1sm",style:{"font-size":"2em"}},"Yanoya",-1),R=s("span",{class:"logofont2sm",style:{"font-size":"2em"}},"data",-1),V={class:"align-items-center surface-0 flex-grow-1 justify-content-between hidden lg:flex absolute lg:static w-full left-0 px-6 lg:px-0 z-2",style:{top:"120px"}},$={class:"flex justify-content-between lg:block border-top-1 lg:border-top-none surface-border py-3 lg:py-0 mt-3 lg:mt-0"},x={id:"hero",class:"flex flex-column pt-4 px-4 lg:px-8 overflow-hidden",style:{background:"#f3f3f3"}},G={class:"py-4 px-4 mx-0 md:mx-6 lg:mx-8 lg:px-8 align-items-center justify-content-between lg:static mb-3"},N=s("h2",{class:"yny-h2"},"Status",-1),T={key:"repo-invalid"},E={key:4},F={key:"ready"},P=g(!1),D=g(""),I={asyncComputed:{acStatus:z}},H=Object.assign(I,{__name:"Status",setup(L){S();function m(){j(P,D)}function b(){console.log("Start installation")}function v(t){console.log("Retry"),t.update()}return(t,f)=>{const _=y("grid-loader"),u=y("Button"),n=y("Message");return a(),i(w,null,[s("div",A,[t.$asyncComputed.acStatus.updating?(a(),h(_,{key:0,class:"yny-spinner",loading:t.loading,color:t.color,size:t.size},null,8,["loading","color","size"])):r("",!0),s("div",B,[s("div",Y,[M,R,s("div",V,[s("div",$,[e(u,{label:"Login",class:"p-button-text p-button-rounded border-none font-light line-height-2 text-blue-500"}),e(u,{label:"Register",class:"p-button-rounded border-none ml-5 font-light text-white line-height-2 bg-blue-500"})])])]),s("p",null,d(t.acStatus),1),s("div",x,[s("div",G,[N,e(k,{name:"auth-message",tag:"Message"},{default:o(()=>[t.$asyncComputed.acStatus.updating?(a(),i("div",{key:t.auth-t.upd},[e(n,{severity:"info"},{default:o(()=>[l(" Checking status. Please wait. ")]),_:1})])):r("",!0),t.acStatus.state==c(p).timeout?(a(),i("div",{key:t.state-t.timeout},[e(n,{severity:"warn"},{default:o(()=>[l(" Server currently unavailable. ")]),_:1}),e(u,{style:{width:"50%"},label:"Retry",onClick:f[0]||(f[0]=q=>v(t.$asyncComputed.acStatus)),class:"yny-button mb-2 mr-2"})])):r("",!0),t.acStatus.state==c(p).auth_missing?(a(),i("div",{key:t.auth-t.info},[e(n,{severity:"info"},{default:o(()=>[l(" Yanoya requires the authorization to act on behalf of you as a Github user. After the authorization, the repositories are selected on which to apply this authorization. ")]),_:1}),e(u,{style:{width:"50%"},label:"Authorize",onClick:m,class:"yny-button mb-2 mr-2"})])):r("",!0),t.acStatus.state==c(p).repo_invalid?(a(),i("div",T,[e(n,{severity:"success"},{default:o(()=>[l(" The Yanoya application is authorized to act on behalf of user "+d(t.acStatus.user)+" for the repositories selected in the next step. ",1)]),_:1}),e(n,{severity:"info"},{default:o(()=>[l(" Yanoya needs to be installed for two of your repositories: A (preferably private) repository to store the data and a (public) Github Pages repository to publish selected data. ")]),_:1}),e(u,{style:{width:"50%"},label:"Install for private repository and Github Pages repository",onClick:b,class:"yny-button mb-2 mr-2"})])):r("",!0),t.acStatus.err?(a(),i("div",E,[(a(),h(n,{severity:"error",key:t.auth-t.err},{default:o(()=>[l(" Authorization failed ("+d(t.acStatus.err)+") ",1)]),_:1}))])):r("",!0),t.acStatus.state==c(p).ready?(a(),i("div",F,[(a(),h(n,{severity:"success",key:t.repo-t.ok},{default:o(()=>[l(" Yanoya is installed to store data in repository "+d(t.acStatus.data)+" and publish through repository "+d(t.acStatus.publish)+". ",1)]),_:1}))])):r("",!0)]),_:1})])])])]),e(C,{simple:""})],64)}}});export{H as default};
