import{r as y,$ as b,a0 as v,V as _,a as c,o as t,c as a,b as o,g as i,i as n,e as l,t as u,w as s,T as p,F as w,Z as z,a1 as k,h as d,_ as A}from"./index-C_IXPN4D.js";import{_ as R}from"./yanoya-how-it-works-C8ZlJ775.js";const Y={class:"surface-0 flex justify-content-center"},I={id:"home",class:"landing-wrapper overflow-hidden"},x={class:"py-4 px-4 mx-0 md:mx-6 lg:mx-8 lg:px-8 flex align-items-center justify-content-between relative lg:static mb-3"},C=o("span",{class:"logofont1sm",style:{"font-size":"2em"}},"Yanoya",-1),S=o("span",{class:"logofont2sm",style:{"font-size":"2em"}},"data",-1),j={class:"align-items-center surface-0 flex-grow-1 justify-content-between hidden lg:flex absolute lg:static w-full left-0 px-6 lg:px-0 z-2",style:{top:"120px"}},G={class:"flex justify-content-between lg:block border-top-1 lg:border-top-none surface-border py-3 lg:py-0 mt-3 lg:mt-0"},B={id:"hero",class:"flex flex-column pt-4 px-4 lg:px-8 overflow-hidden",style:{background:"#f3f3f3"}},V={class:"py-4 px-4 mx-0 md:mx-6 lg:mx-8 lg:px-8 align-items-center justify-content-between lg:static mb-3"},N=o("h2",{class:"yny-h2"},"Authentication Status",-1),T={key:0},M={key:1},P={key:2},$={key:3},D=o("h2",{class:"yny-h2"},"Installation Status",-1),E={key:0},F={key:1},L={key:2},q=z('<div class="grid mt-8 pb-2 md:pb-8"><div class="col-12 lg:col-6 my-auto flex flex-column lg:align-items-end text-center lg:text-left"><h2 class="yny-h2"><i class="fas fa-cogs fa-sm titleicon"></i>What you need</h2><span class="text-700 text-m line-height-2 ml-0 md:ml-2" style="max-width:650px;"><p>I do believe your data belongs into your hands. Yanoya stores your data only in your own github repository. You need two repositories: one to store all types, data items and views (I recommend to keep this repository private) - and a second one to publish your data.</p><p>In order to publish the data, this repository needs to be a <a href="https://pages.github.com/">Github Pages</a> repository and should be public.</p></span><h2 class="yny-h2"><i class="fas fa-cogs fa-sm titleicon"></i>How to install</h2><span class="text-700 text-m line-height-2 ml-0 md:ml-2" style="max-width:650px;"><a href="https://github.com/apps/yanoya-data-app">Install the Yanoya Github App</a> on two of your Github repositories (see above). Yanoya will check whether one of it is a Github Pages repository and use it for publishing your data. The other repository will be automatically selected as data repository. </span></div><div class="flex justify-content-center col-12 lg:col-6 bg-purple-100 p-0 flex-order-1 lg:flex-order-0" style="border-radius:8px;"><img src="'+R+'" class="w-11" alt="mockup mobile"></div></div>',1),H=y(!1),O=y(""),W={asyncComputed:{acAuthorized:b,acRepositories:v("acAuthorized.user")}},U=Object.assign(W,{__name:"Start",setup(Z){_();function f(){k(H,O)}function m(){console.log("Start installation")}return(e,J)=>{const g=c("grid-loader"),h=c("Button"),r=c("Message");return t(),a(w,null,[o("div",Y,[e.$asyncComputed.acAuthorized.updating?(t(),i(g,{key:0,class:"yny-spinner",loading:e.loading,color:e.color,size:e.size},null,8,["loading","color","size"])):n("",!0),o("div",I,[o("div",x,[C,S,o("div",j,[o("div",G,[l(h,{label:"Login",class:"p-button-text p-button-rounded border-none font-light line-height-2 text-blue-500"}),l(h,{label:"Register",class:"p-button-rounded border-none ml-5 font-light text-white line-height-2 bg-blue-500"})])])]),o("p",null,u(e.acRepositories),1),o("div",B,[o("div",V,[N,l(p,{name:"auth-message",tag:"Message"},{default:s(()=>[e.$asyncComputed.acAuthorized.updating?(t(),a("div",T,[(t(),i(r,{severity:"info",key:e.auth-e.upd},{default:s(()=>[d(" Authentication check ongoing. Please wait. ")]),_:1}))])):n("",!0),e.acAuthorized.user==""?(t(),a("div",M,[(t(),i(r,{severity:"info",key:e.auth-e.info},{default:s(()=>[d(" Yanoya requires the authorization to act on behalf of you as a Github user. After the authorization, the repositories are selected on which to apply this authorization. ")]),_:1}))])):n("",!0),e.acAuthorized.err?(t(),a("div",P,[(t(),i(r,{severity:"error",key:e.auth-e.err},{default:s(()=>[d(" Authorization failed ("+u(e.acAuthorized.err)+") ",1)]),_:1}))])):n("",!0),e.acAuthorized.user!=""?(t(),a("div",$,[(t(),i(r,{severity:"success",key:e.auth-e.ok},{default:s(()=>[d(" The Yanoya application is authorized to act on behalf of user "+u(e.acAuthorized.user)+". It only applies to the repositories that are selected in the next step. ",1)]),_:1}))])):n("",!0)]),_:1}),l(h,{style:{width:"50%"},disabled:e.acAuthorized.user!="",label:"Authorize Yanoya",onClick:f,class:"yny-button mb-2 mr-2"},null,8,["disabled"]),D,l(p,{name:"auth-message",tag:"div"},{default:s(()=>[e.acAuthorized.user==""?(t(),a("div",E,[(t(),i(r,{severity:"info",key:e.repo-e.wait},{default:s(()=>[d(" Installation status will be checked after authorization has been completed. ")]),_:1}))])):n("",!0),e.acAuthorized.user!=""&&(e.acRepositories.data==""||e.acRepositories.publish=="")?(t(),a("div",F,[(t(),i(r,{severity:"info",key:e.repo-e.info},{default:s(()=>[d(" Yanoya needs to be installed for two of your repositories: A (preferably private) repository to store the data and a (public) Github Pages repository to publish selected data. ")]),_:1}))])):n("",!0),e.acAuthorized.user!=""&&e.acRepositories.data!=""&&e.acRepositories.publish!=""?(t(),a("div",L,[(t(),i(r,{severity:"success",key:e.repo-e.ok},{default:s(()=>[d(" Yanoya is installed to store data in repository "+u(e.acRepositories.data)+" and publish through repository "+u(e.acRepositories.publish)+". ",1)]),_:1}))])):n("",!0)]),_:1}),l(h,{style:{width:"50%"},label:"Install Yanoya",disabled:e.acAuthorized.user==""||e.acRepositories.data!=""&&e.acRepositories.publish!="",onClick:m,class:"yny-button mb-2 mr-2"},null,8,["disabled"])])]),q])]),l(A,{simple:""})],64)}}});export{U as default};
