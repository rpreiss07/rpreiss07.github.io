import{p as O,u as x,r as n,q as h,a as d,o as t,c as a,b as s,t as o,M as v,e as i,w as f,T as E,F as b,f as w,i as T,E as C,N as F,O as V,P as y,g as M,h as A,z as P,B as R,Q as S,R as j,m as q}from"./index-B9jzlk-d.js";const z={class:"grid"},G={class:"col-12"},J={class:"card"},L=s("h3",null,"Apply View",-1),Q={for:"itemDecl"},H=s("br",null,null,-1),K=s("br",null,null,-1),U={for:"viewDecl"},W=s("br",null,null,-1),X=s("br",null,null,-1),Y={class:"inline-flex"},Z={key:0},$=s("br",null,null,-1),ee=s("h3",null,"Files generated in repository",-1),le=Object.assign(O([C,F]),{__name:"ApplyView",setup(se){const _=x(),m=n(!1),p=n(""),r=n([]),c=n([]);h(m,async(e,u)=>{e&&(c.value=P(p))}),h([()=>_.params.item_id,()=>_.params.view_id],([e,u])=>{R(e),S(u)},{immediate:!0});function k(e){console.log("published!"),console.log(e),r.value=e,c.value=q("View applied on item and published")}function I(e){console.log("apply view"),j(V.value,y.value,m,p,k)}function B(e){return JSON.stringify(e,null,2)}return(e,u)=>{const g=d("Textarea"),D=d("Message"),N=d("Button");return t(),a("div",z,[s("div",G,[s("div",J,[L,s("label",Q,"Item "+o(v(V)),1),H,i(g,{id:"itemVal",value:B(e.gsItemVal),rows:"4",disabled:"",class:"mb-2 mr-2 w-full"},null,8,["value"]),K,s("label",U,"View "+o(v(y)),1),W,i(g,{id:"viewDecl",value:e.gsViewDecl.kcl,rows:"4",disabled:"",class:"mb-2 mr-2 w-full"},null,8,["value"]),X,i(E,{name:"p-message",tag:"div"},{default:f(()=>[(t(!0),a(b,null,w(c.value,l=>(t(),M(D,{severity:l.severity,key:l.content},{default:f(()=>[A(o(l.content),1)]),_:2},1032,["severity"]))),128))]),_:1}),s("div",Y,[i(N,{label:"Publish",onClick:I,class:"mb-2 mr-2"})]),r.value.length>0?(t(),a("div",Z,[$,ee,(t(!0),a(b,null,w(r.value,l=>(t(),a("li",null,o(l),1))),256))])):T("",!0)])])])}}});export{le as default};
